{
  "swagger": "2.0",
  "info": {
    "title": "Bookstore API",
    "version": "2.1.0",
    "description": "A sample Bookstore API in Swagger 2.0 format for testing."
  },
  "host": "bookstore.example.com",
  "basePath": "/api/v2",
  "schemes": ["https"],
  "consumes": ["application/json"],
  "produces": ["application/json"],
  "tags": [
    { "name": "books", "description": "Book operations" },
    { "name": "authors", "description": "Author operations" }
  ],
  "paths": {
    "/books": {
      "get": {
        "operationId": "listBooks",
        "summary": "List all books",
        "tags": ["books"],
        "parameters": [
          {
            "name": "genre",
            "in": "query",
            "type": "string",
            "description": "Filter by genre"
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "default": 20
          }
        ],
        "responses": {
          "200": {
            "description": "A list of books",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/Book" }
            }
          }
        }
      },
      "post": {
        "operationId": "createBook",
        "summary": "Create a new book",
        "tags": ["books"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/NewBook" }
          }
        ],
        "responses": {
          "201": {
            "description": "Book created",
            "schema": { "$ref": "#/definitions/Book" }
          }
        }
      }
    },
    "/books/{bookId}": {
      "get": {
        "operationId": "getBook",
        "summary": "Get a book by ID",
        "tags": ["books"],
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "A single book",
            "schema": { "$ref": "#/definitions/Book" }
          },
          "404": { "description": "Book not found" }
        }
      },
      "delete": {
        "operationId": "deleteBook",
        "summary": "Delete a book",
        "tags": ["books"],
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "204": { "description": "Book deleted" },
          "404": { "description": "Book not found" }
        }
      }
    },
    "/authors": {
      "get": {
        "operationId": "listAuthors",
        "summary": "List all authors",
        "tags": ["authors"],
        "responses": {
          "200": {
            "description": "A list of authors",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/Author" }
            }
          }
        }
      }
    },
    "/authors/{authorId}": {
      "get": {
        "operationId": "getAuthor",
        "summary": "Get an author by ID",
        "tags": ["authors"],
        "parameters": [
          {
            "name": "authorId",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "An author",
            "schema": { "$ref": "#/definitions/Author" }
          },
          "404": { "description": "Author not found" }
        }
      }
    }
  },
  "definitions": {
    "Book": {
      "type": "object",
      "required": ["id", "title", "authorId", "isbn"],
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "authorId": { "type": "string" },
        "isbn": { "type": "string" },
        "genre": { "type": "string" },
        "publishedYear": { "type": "integer" },
        "price": { "type": "number", "format": "float" }
      }
    },
    "NewBook": {
      "type": "object",
      "required": ["title", "authorId", "isbn"],
      "properties": {
        "title": { "type": "string" },
        "authorId": { "type": "string" },
        "isbn": { "type": "string" },
        "genre": { "type": "string" },
        "publishedYear": { "type": "integer" },
        "price": { "type": "number", "format": "float" }
      }
    },
    "Author": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "bio": { "type": "string" },
        "nationality": { "type": "string" }
      }
    }
  },
  "securityDefinitions": {
    "ApiKeyAuth": {
      "type": "apiKey",
      "in": "header",
      "name": "X-API-Key"
    }
  }
}
